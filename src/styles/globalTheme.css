/* ========================================
   PRYDE SOCIAL - GLOBAL THEMING SYSTEM
   Root-level CSS tokens for all theme combinations
   ======================================== */

:root {
  --motion-scale: 1;
  --hover-opacity: 1;
  --glow-strength: 1;

  /* üé® GLOBAL BRAND COLORS (UNCHANGED) */
  --color-primary: #6C5CE7;
  --color-danger: #FF7675;
  --color-success: #00B894;
  --color-warning: #FDCB6E;
  --color-accent: #0984E3;
}

/* ======================================================
   üåô DARK MODE + QUIET MODE DISABLED (INTENTIONALLY UNCHANGED)
   ====================================================== */

:root[data-theme="dark"] {
  --bg-page: #0B1020;
  --bg-card: #12192F;
  --bg-hover: rgba(108, 92, 231, 0.08);

  --text-primary: #FFFFFF;
  --text-secondary: #A8B0C2;
  --text-muted: #7B7D9E;

  --accent-primary: #6D6AF8;
  --accent-secondary: #4CC9F0;

  --border-soft: rgba(255, 255, 255, 0.08);
  --shadow-card: 0 8px 24px rgba(0, 0, 0, 0.35);
}

/* ======================================================
   üåô DARK MODE + QUIET MODE ENABLED (REFINED)
   ====================================================== */

:root[data-theme="dark"][data-quiet="true"] {
  --bg-page: #0F1629;
  --bg-card: #161E36;
  --bg-hover: rgba(108, 92, 231, 0.045);

  --text-primary: #E7EAF3;
  --text-secondary: #A2AAC2;
  --text-muted: #7E859C;

  --accent-primary: #7A6ED6;
  --accent-secondary: #5B86B8;

  --border-soft: rgba(255, 255, 255, 0.07);
  --shadow-card: 0 4px 14px rgba(0, 0, 0, 0.28);

  --motion-scale: 0;
  --hover-opacity: 0.85;
  --glow-strength: 0;
}

/* ======================================================
   ‚òÄÔ∏è LIGHT MODE + QUIET MODE DISABLED (REFINED)
   ====================================================== */

:root[data-theme="light"] {
  --bg-page: #F4F6FB;
  --bg-card: #FFFFFF;
  --bg-hover: rgba(108, 92, 231, 0.06);

  --text-primary: #1E2338;
  --text-secondary: #5E6787;
  --text-muted: #9CA0B3;

  --accent-primary: #6C5CE7;
  --accent-secondary: #2F8FEA;

  --border-soft: #E3E7F2;
  --shadow-card: 0 6px 18px rgba(0, 0, 0, 0.045);
}

/* ======================================================
   ‚òÄÔ∏è LIGHT MODE + QUIET MODE ENABLED (FIXED)
   ====================================================== */

:root[data-theme="light"][data-quiet="true"] {
  --bg-page: #F7F8FD;
  --bg-card: #FBFCFF;
  --bg-hover: rgba(108, 92, 231, 0.035);

  --text-primary: #2A2F44;
  --text-secondary: #6F7895;
  --text-muted: #9CA3AF;

  --accent-primary: #746AE2;
  --accent-secondary: #3B8EE6;

  --border-soft: #E7EAF4;
  --shadow-card: 0 3px 10px rgba(0, 0, 0, 0.03);

  --motion-scale: 0;
  --hover-opacity: 0.85;
  --glow-strength: 0;
}

/* ======================================================
   üåå TWILIGHT GALAXY THEME (DESKTOP HOMEPAGE ONLY)
   Much lighter colors - soft twilight atmosphere
   ====================================================== */

[data-theme="midnight-prism"] {
  --bg-deep-base: #2D3548;
  --bg-deep-mid: #3A4158;
  --bg-deep-accent: #454D68;

  --surface-1: #3F4759;
  --surface-2: #4A5269;
  --surface-3: #555D78;

  --text-primary: #FFFFFF;
  --text-secondary: rgba(255, 255, 255, 0.92);
  --text-muted: rgba(255, 255, 255, 0.75);

  --accent-primary: #B57FFF;
  --accent-rose: #FF8FD8;
  --accent-cyan: #7FE8FF;

  --accent-glow-soft: rgba(181, 127, 255, 0.3);
  --accent-glow-strong: rgba(181, 127, 255, 0.5);

  /* Map to existing variable names for compatibility */
  --bg-page: linear-gradient(180deg, var(--bg-deep-base) 0%, var(--bg-deep-mid) 50%, var(--bg-deep-accent) 100%);
  --bg-app: linear-gradient(180deg, var(--bg-deep-base) 0%, var(--bg-deep-mid) 50%, var(--bg-deep-accent) 100%);
  --color-bg: linear-gradient(180deg, var(--bg-deep-base) 0%, var(--bg-deep-mid) 50%, var(--bg-deep-accent) 100%);
  --color-surface: var(--surface-1);
  --color-border: rgba(181, 127, 255, 0.18);
  --color-text: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-brand: var(--accent-primary);
  --color-brand-hover: #C68FFF;
  --color-text-inverse: #1A1F2E;
}

/* ============================= */
/* GLOBAL APPLICATION */
/* ============================= */

body {
  background: var(--bg-app);
  color: var(--text-primary);
}

.card,
.surface,
.panel {
  background: var(--bg-card);
  border: var(--border-width-default) solid var(--border-soft);
  box-shadow: var(--shadow-card);
}

a,
button {
  transition:
    opacity 0.2s ease,
    transform 0.2s ease;
}

a:hover,
button:hover {
  opacity: var(--hover-opacity);
  transform: scale(calc(1 + 0.02 * var(--motion-scale)));
}

/* =====================================================
   STRUCTURAL LINK CONTRACT
   ===================================================== */

/* Structural links = clickable containers (no underline, ever) */
a[data-link="structural"] {
  text-decoration: none;
  color: inherit;
}

/* Subtle hover feedback for structural links */
a[data-link="structural"]:hover {
  background-color: rgba(255,255,255,0.04);
  border-radius: inherit;
}

/* Slight lift for card-like structural links */
.card a[data-link="structural"]:hover,
.post-card a[data-link="structural"]:hover,
.group-card a[data-link="structural"]:hover {
  box-shadow: 0 4px 14px rgba(0,0,0,0.18);
  transform: translateY(-1px);
}

/* Legacy class-based structural link removal (backward compat) */
nav a,
.navbar a,
.post-card a,
.post-header a,
.group-card a,
.explore-links a,
.card a {
  text-decoration: none;
}

/* =====================================================
   INLINE TEXT LINKS (ONLY place underlines are allowed)
   ===================================================== */

.post-content a:not([data-link="structural"]),
.comment-content a:not([data-link="structural"]),
.message-content a:not([data-link="structural"]),
.rich-text a:not([data-link="structural"]) {
  text-decoration: underline;
  text-underline-offset: 2px;
}

/* =====================================================
   ACCESSIBLE FOCUS STATES (NO UNDERLINES)
   ===================================================== */

a:focus-visible {
  outline: 2px solid rgba(255,255,255,0.4);
  outline-offset: 2px;
  text-decoration: none;
}

/* =====================================================
   DEV SAFETY: ACCIDENTAL ANCHOR DETECTION
   ===================================================== */

/* If a large block-level <a> is missing data-link="structural",
   give it a faint warning outline in development */
body[data-env="development"] a:not([data-link="structural"]) > div,
body[data-env="development"] a:not([data-link="structural"]) > section {
  outline: 1px dashed rgba(255, 80, 80, 0.4);
}
