/* ========================================
   DARK MODE THEME
   CRITICAL: Only override CSS variables
   NO component-specific styles allowed
   ======================================== */

/* NOTE: Main dark mode variables are defined in variables.css
   This file exists for backward compatibility and will be deprecated.
   All new dark mode overrides should go in variables.css */

/* Legacy dark mode support - maps old variables to new system */
[data-theme="dark"] {
  /* Map old variable names to new unified system */
  --background-light: var(--bg-page);
  --background-dark: var(--bg-page);

  /* These are handled by variables.css now */
  /* Keeping empty declarations for backward compatibility */
}

/* Light mode glossy-gold - GREEN gradient for send buttons */
.glossy-gold {
  background: linear-gradient(135deg, #00B894 0%, #00D2A0 100%) !important;
  color: white !important; /* Force white text for WCAG AA compliance */
  border: none !important;
}

.glossy-gold:hover {
  background: linear-gradient(135deg, #00A080 0%, #00B894 100%) !important;
  box-shadow: 0 4px 20px rgba(0, 184, 148, 0.4) !important;
  color: white !important;
}

.glossy-gold:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  background: linear-gradient(135deg, #00B894 0%, #00D2A0 100%) !important;
}

[data-theme="dark"] .glossy-gold {
  background: linear-gradient(135deg, #00B894 0%, #00D2A0 100%) !important;
  border: none !important;
  color: #ffffff !important; /* Force white text for dark mode */
}

[data-theme="dark"] .glossy-gold:hover {
  background: linear-gradient(135deg, #00A080 0%, #00B894 100%) !important;
  box-shadow: 0 4px 20px rgba(0, 184, 148, 0.4) !important;
  color: #ffffff !important;
}

[data-theme="dark"] .glossy-gold:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  background: linear-gradient(135deg, #00B894 0%, #00D2A0 100%) !important;
}

/* Input fields in dark mode */
[data-theme="dark"] input,
[data-theme="dark"] textarea,
[data-theme="dark"] select {
  background: rgba(22, 33, 62, 0.6);
  color: var(--text-main);
  border-color: var(--border-light);
}

[data-theme="dark"] input::placeholder,
[data-theme="dark"] textarea::placeholder {
  color: var(--text-muted);
}

/* Cards and containers */
[data-theme="dark"] .post-card,
[data-theme="dark"] .user-card,
[data-theme="dark"] .friend-card {
  background: var(--card-surface);
  border-color: var(--border-light);
}

/* Navbar in dark mode */
[data-theme="dark"] .navbar {
  background: rgba(22, 33, 62, 0.95);
  border-bottom-color: var(--border-light);
}

/* Buttons */
[data-theme="dark"] button {
  color: var(--text-main);
}

[data-theme="dark"] .btn-primary {
  background: var(--gradient-primary);
  color: white;
}

/* Messages */
/* Message bubble colors are now set dynamically via inline styles */

[data-theme="dark"] .message-sender-name {
  color: var(--electric-blue);
}

/* Modals */
[data-theme="dark"] .modal-overlay {
  background: rgba(0, 0, 0, 0.8);
}

[data-theme="dark"] .modal-content {
  background: var(--card-surface);
  color: var(--text-main);
}

/* Scrollbar for dark mode */
[data-theme="dark"] ::-webkit-scrollbar-track {
  background: var(--background-light);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: var(--border-light);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: var(--pryde-purple);
}

/* Hover effects */
[data-theme="dark"] .user-result:hover {
  background: rgba(108, 92, 231, 0.3);
}

[data-theme="dark"] .conversation-item:hover {
  background: rgba(108, 92, 231, 0.2);
}

/* Profile badges */
[data-theme="dark"] .badge {
  background: rgba(108, 92, 231, 0.3);
  color: var(--text-main);
}

/* Trending section */
[data-theme="dark"] .trending-item {
  background: var(--card-surface);
  color: var(--text-main);
}

[data-theme="dark"] .trending-item:hover {
  background: rgba(108, 92, 231, 0.3);
}

/* ========================================
   COMPREHENSIVE TEXT COLOR OVERRIDES
   Fix hardcoded dark colors for dark mode
   ======================================== */

/* Override all hardcoded #2B2B2B (dark text) */
[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4,
[data-theme="dark"] h5,
[data-theme="dark"] h6,
[data-theme="dark"] p,
[data-theme="dark"] span,
[data-theme="dark"] div,
[data-theme="dark"] .modal-title,
[data-theme="dark"] .section-title,
[data-theme="dark"] .author-name,
[data-theme="dark"] .blocked-user-name,
[data-theme="dark"] .post-content,
[data-theme="dark"] .no-bookmarks h2,
[data-theme="dark"] .emoji-picker-header h4,
[data-theme="dark"] .privacy-title {
  color: var(--text-main) !important;
}

/* Override all hardcoded #616161 (muted text) */
[data-theme="dark"] .author-username,
[data-theme="dark"] .blocked-user-username,
[data-theme="dark"] .no-bookmarks p,
[data-theme="dark"] .emoji-picker-close,
[data-theme="dark"] .modal-close,
[data-theme="dark"] .setting-item label,
[data-theme="dark"] .post-timestamp,
[data-theme="dark"] .bookmark-timestamp {
  color: var(--text-muted) !important;
}

/* Bookmarks page */
[data-theme="dark"] .bookmarks-container {
  background: var(--background-light);
}

[data-theme="dark"] .bookmark-card {
  background: var(--card-surface);
  border-color: var(--border-light);
}

[data-theme="dark"] .bookmark-card:hover {
  border-color: var(--pryde-purple);
}

/* Privacy Settings */
[data-theme="dark"] .privacy-container {
  background: var(--background-light);
}

[data-theme="dark"] .privacy-card {
  background: var(--card-surface);
  border-color: var(--border-light);
}

[data-theme="dark"] .privacy-section {
  background: var(--card-surface);
  border-color: var(--border-light);
}

[data-theme="dark"] .setting-item select {
  background: rgba(22, 33, 62, 0.6);
  color: var(--text-main);
  border-color: var(--border-light);
}

[data-theme="dark"] .blocked-user-item {
  background: var(--card-surface);
  border-color: var(--border-light);
}

/* Emoji Picker */
[data-theme="dark"] .emoji-picker {
  background: var(--card-surface);
  border-color: var(--border-light);
}

[data-theme="dark"] .emoji-button {
  background: rgba(22, 33, 62, 0.6);
}

[data-theme="dark"] .emoji-button:hover {
  background: rgba(108, 92, 231, 0.3);
}

/* Two Factor Setup */
[data-theme="dark"] .modal-close:hover {
  background: rgba(108, 92, 231, 0.2);
  color: var(--text-main);
}

[data-theme="dark"] .qr-code-container {
  background: var(--card-surface);
  border-color: var(--border-light);
}

/* Session Management */
[data-theme="dark"] .session-item {
  background: var(--card-surface);
  border-color: var(--border-light);
}

/* Legal Pages */
[data-theme="dark"] .legal-container {
  background: var(--background-light);
  color: var(--text-main);
}

[data-theme="dark"] .legal-content h1,
[data-theme="dark"] .legal-content h2,
[data-theme="dark"] .legal-content h3,
[data-theme="dark"] .legal-content p,
[data-theme="dark"] .legal-content li {
  color: var(--text-main) !important;
}

/* Footer */
[data-theme="dark"] .footer {
  background: var(--card-surface);
  border-top-color: var(--border-light);
}

[data-theme="dark"] .footer-section h3,
[data-theme="dark"] .footer-section p,
[data-theme="dark"] .footer-section a,
[data-theme="dark"] .footer-bottom p {
  color: var(--text-muted) !important;
}

[data-theme="dark"] .footer-section a:hover {
  color: var(--pryde-purple) !important;
}

/* Admin Page */
[data-theme="dark"] .admin-container {
  background: var(--background-light);
}

[data-theme="dark"] .admin-card {
  background: var(--card-surface);
  border-color: var(--border-light);
}

/* Admin Activity Page */
[data-theme="dark"] .activity-container {
  background: var(--background-light);
  color: var(--text-main);
}

[data-theme="dark"] .activity-section h3 {
  color: var(--pryde-purple);
}

[data-theme="dark"] .activity-item {
  background: var(--card-surface);
  border: 1px solid var(--border-light);
}

[data-theme="dark"] .activity-user {
  color: var(--pryde-purple);
}

[data-theme="dark"] .activity-content {
  color: var(--text-main);
}

[data-theme="dark"] .activity-date {
  color: var(--text-muted);
}

/* Admin Tables */
[data-theme="dark"] .users-table,
[data-theme="dark"] .blocks-table {
  background: var(--card-surface);
  border-color: var(--border-light);
}

[data-theme="dark"] .users-table td,
[data-theme="dark"] .blocks-table td {
  color: var(--text-main);
  border-bottom-color: var(--border-light);
}

[data-theme="dark"] .users-table tbody tr:hover,
[data-theme="dark"] .blocks-table tbody tr:hover {
  background: rgba(108, 92, 231, 0.1);
}

/* Admin Report Cards */
[data-theme="dark"] .report-card {
  background: var(--card-surface);
  border-left-color: var(--pryde-purple);
}

[data-theme="dark"] .stat-card {
  background: var(--card-surface);
  border: 1px solid var(--border-light);
}

/* Feed Page */
[data-theme="dark"] .feed-container {
  background: var(--background-light);
}

[data-theme="dark"] .create-post-card {
  background: var(--card-surface);
  border-color: var(--border-light);
}

[data-theme="dark"] .post-media-item video {
  background: #000;
}

/* Profile Page */
[data-theme="dark"] .profile-container {
  background: var(--background-light);
}

[data-theme="dark"] .profile-header {
  background: var(--card-surface);
  border-color: var(--border-light);
}

/* Messages Page */
[data-theme="dark"] .messages-container {
  background: var(--background-light);
}

[data-theme="dark"] .section-label {
  color: var(--text-muted);
  background: var(--card-surface);
}

/* Security Settings - 2FA Warning Box */
[data-theme="dark"] .security-status-card {
  background: rgba(108, 92, 231, 0.15) !important;
  border: 1px solid var(--pryde-purple) !important;
}

[data-theme="dark"] .security-status-card strong,
[data-theme="dark"] .security-status-card p {
  color: var(--text-main) !important;
}

/* Two-Factor Setup Modal */
[data-theme="dark"] .modal-content {
  background: var(--card-surface) !important;
  color: var(--text-main);
}

[data-theme="dark"] .modal-title {
  color: var(--text-main) !important;
}

[data-theme="dark"] .modal-close {
  color: var(--text-muted) !important;
}

[data-theme="dark"] .modal-close:hover {
  background: rgba(108, 92, 231, 0.2) !important;
  color: var(--text-main) !important;
}

[data-theme="dark"] .qr-code-container {
  background: white !important;
}

[data-theme="dark"] .backup-codes-container {
  background: var(--background-light) !important;
  border-color: var(--border-light) !important;
}

[data-theme="dark"] .backup-codes-container > div > div {
  background: var(--card-surface) !important;
  color: var(--pryde-purple) !important;
}

[data-theme="dark"] .conversation-list {
  background: var(--card-surface);
  border-color: var(--border-light);
}

[data-theme="dark"] .message-input-container {
  background: var(--card-surface);
  border-color: var(--border-light);
}

/* Friends Page */
[data-theme="dark"] .friends-container {
  background: var(--background-light);
}

[data-theme="dark"] .friends-card {
  background: var(--card-surface);
  border-color: var(--border-light);
}

/* Auth Page */
[data-theme="dark"] .auth-container {
  background: var(--background-light);
}

[data-theme="dark"] .auth-card {
  background: var(--card-surface);
  border-color: var(--border-light);
}

/* Global text color fix for any remaining hardcoded colors */
[data-theme="dark"] * {
  border-color: var(--border-light);
}

/* Ensure all text is readable in dark mode */
[data-theme="dark"] *:not(.btn-primary):not(.message-bubble):not(button) {
  color: inherit;
}

/* Fix inline background gradients in Settings page */
[data-theme="dark"] .settings-section[style*="linear-gradient"] {
  background: var(--card-surface) !important;
}

/* Fix warning/alert boxes */
[data-theme="dark"] div[style*="#fff3cd"],
[data-theme="dark"] div[style*="#f8d7da"] {
  background: var(--card-surface) !important;
  border-color: var(--border-light) !important;
}

/* Fix manual entry boxes */
[data-theme="dark"] .manual-entry {
  background: var(--card-surface) !important;
}

/* Session Management Dark Mode */
[data-theme="dark"] .session-card {
  background: var(--card-surface);
  border-color: #444;
  color: var(--text-main);
}

[data-theme="dark"] .session-card.current-session {
  background: linear-gradient(135deg, rgba(108, 92, 231, 0.15) 0%, var(--card-surface) 100%);
  border-color: var(--pryde-purple);
}

[data-theme="dark"] .session-details {
  color: var(--text-muted);
}

[data-theme="dark"] .session-time {
  color: var(--text-muted);
}

/* Account Management Cards Dark Mode */
[data-theme="dark"] .account-management-card {
  background: var(--card-surface);
  border-color: #444;
  color: var(--text-main);
}

[data-theme="dark"] .account-management-card h3 {
  color: var(--text-main);
}

[data-theme="dark"] .account-management-card p {
  color: var(--text-muted);
}

/* Danger Button Dark Mode */
[data-theme="dark"] .btn-danger {
  background: rgba(255, 107, 107, 0.15);
  /* color: #ff6b6b; */
  border: 1px solid #ff6b6b;
}

[data-theme="dark"] .btn-danger:hover {
  background: #ff6b6b;
  color: white;
}

/* Backup codes dark mode */
[data-theme="dark"] .backup-codes-container {
  background: var(--card-surface);
  border-color: var(--pryde-purple);
}

[data-theme="dark"] .backup-code {
  background: rgba(108, 92, 231, 0.1);
  color: var(--pryde-purple);
  border-color: var(--pryde-purple);
}

/* Comment deleted state dark mode */
[data-theme="dark"] .comment-deleted {
  background: rgba(255, 255, 255, 0.05);
  color: var(--text-muted);
}

