/**
 * FEED CALM MODE - Platform-Grade Transformation
 *
 * This file transforms the Feed UI into a calm, scannable, platform-grade experience.
 * Import this AFTER Feed.css to override decorative styles.
 *
 * PHASES:
 * A - Feed Frame & Rhythm: Consistent spacing, single column
 * B - Composer (Collapsible): One-line prompt, expanded state with tucked options
 * C - Post Card Contract: Single structural template, minimal actions
 * D - Poll & CW Styling: Flat, quiet, no gradients
 * E - Mobile-first Calm: Single column, large touch targets
 * F - QA: Scannable, reduced noise, all features preserved
 *
 * Goals:
 * - Consistent post card structure
 * - Metadata whispers (muted, small)
 * - Fewer visible controls (more in menus)
 * - Composer collapses by default
 * - Mobile-first single column
 * - Preserve all features (polls, CW, privacy, save, etc.)
 */

/* ════════════════════════════════════════
   PHASE A: FEED FRAME & RHYTHM
   Kill nested containers - one continuous surface
   ════════════════════════════════════════ */

/* Feed container: Transparent, no background, no border, no shadow */
.feed-layout {
  /* Width controlled by Feed.css grid - no max-width override */
  background: transparent !important; /* Kill any background */
  border: none !important; /* Kill any border */
  box-shadow: none !important; /* Kill any shadow */
}

.feed-main {
  width: 100%;
  padding: 1rem;
  gap: 2rem; /* Consistent 32px between sections */
  background: transparent !important; /* Kill any background */
  border: none !important; /* Kill any border */
  box-shadow: none !important; /* Kill any shadow */
}

/* Posts list: Consistent vertical spacing, no container */
.posts-list {
  display: flex;
  flex-direction: column;
  gap: 2rem; /* 32px between posts - more breathing room */
  background: transparent !important; /* Kill any background */
  border: none !important; /* Kill any border */
  box-shadow: none !important; /* Kill any shadow */
}

/* ────────────────────────────────────────
   POST CARDS: THE ONLY FRAMED OBJECTS
   Posts are visually contained - everything else is transparent
   ──────────────────────────────────────── */

.post-card {
  background: var(--color-surface) !important; /* Solid background */
  border: var(--border-post) !important; /* THE ONE TRUE BORDER */
  border-radius: 14px !important; /* Rounded corners */
  padding: 1.25rem 1.5rem !important; /* 20px vertical, 24px horizontal */
  margin-bottom: 0; /* Spacing handled by .posts-list gap */
  box-shadow: none !important; /* No shadows - flat and matte */
  transition: border-color 0.15s ease;
  display: flex;
  flex-direction: column;
  gap: 1rem; /* 16px between header/content/actions */
}

.post-card:hover {
  border-color: rgba(255, 255, 255, 0.12) !important; /* Slightly more visible on hover */
  box-shadow: none !important; /* No hover shadow */
  transform: none !important; /* No transform */
}

[data-theme="dark"] .post-card {
  background: var(--color-surface) !important;
  border: var(--border-post) !important;
}

[data-theme="dark"] .post-card:hover {
  border-color: rgba(255, 255, 255, 0.12) !important;
}

/* System posts: Subtle left accent only */
.post-card.system-post {
  border-left: 3px solid var(--pryde-purple) !important;
  padding-left: 1rem !important; /* Add padding when left border exists */
  /* background: Use default surface color from .post-card */
}

[data-theme="dark"] .post-card.system-post {
  border-left-color: rgba(107, 70, 193, 0.6) !important;
}

/* ────────────────────────────────────────
   AVATARS: No Glow, No Transform
   ──────────────────────────────────────── */

.post-author-avatar {
  background: var(--bg-secondary);
  border: 2px solid var(--border-light);
  box-shadow: none;
  transition: opacity 0.15s ease;
}

.post-author-avatar:hover {
  transform: none; /* No scale */
  box-shadow: none; /* No glow */
  opacity: 0.9;
}

[data-theme="dark"] .post-author-avatar {
  border-color: var(--border-dark);
}

/* ────────────────────────────────────────
   BADGES: Flat, No Gradients
   ──────────────────────────────────────── */

.verified-badge {
  background: var(--pryde-purple);
  box-shadow: none;
  border: none;
}

.verified-badge::before {
  display: none; /* Remove gradient overlay */
}

.verified-badge:hover {
  transform: none;
  box-shadow: none;
  opacity: 0.9;
}

[data-theme="dark"] .verified-badge {
  background: rgba(107, 70, 193, 0.8);
  box-shadow: none;
}

/* ────────────────────────────────────────
   BUTTONS: Flat, Calm
   ──────────────────────────────────────── */

.btn-post,
.btn-submit-reply,
.btn-show-cw {
  background: var(--pryde-purple);
  color: white;
  border: 1px solid var(--pryde-purple);
  box-shadow: none;
  transition: background 0.15s ease, opacity 0.15s ease;
}

.btn-post:hover,
.btn-submit-reply:hover:not(:disabled),
.btn-show-cw:hover {
  background: var(--pryde-purple-dark, #5a3a9f);
  transform: none; /* No transform */
  box-shadow: none; /* No shadow */
}

.btn-post:active,
.btn-submit-reply:active,
.btn-show-cw:active {
  transform: none;
}

/* ────────────────────────────────────────
   CONTENT WARNING: Flat Overlay
   ──────────────────────────────────────── */

.content-warning-overlay {
  background: var(--pryde-purple);
  border: 2px solid var(--pryde-purple);
  box-shadow: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

.content-warning-title {
  text-shadow: none;
}

[data-theme="dark"] .content-warning-overlay {
  background: rgba(107, 70, 193, 0.95);
  border-color: rgba(107, 70, 193, 0.95);
}

/* ────────────────────────────────────────
   TABS: Flat Active State
   ──────────────────────────────────────── */

.feed-tab.active {
  background: var(--pryde-purple);
  color: white;
  box-shadow: none; /* No glow */
}

[data-theme="dark"] .feed-tab.active {
  background: rgba(107, 70, 193, 0.8);
}

/* ────────────────────────────────────────
   INPUTS: Subtle Focus
   ──────────────────────────────────────── */

.post-input:focus,
.post-edit-textarea:focus,
.friends-search-input:focus,
.reply-composer input:focus {
  border-color: var(--pryde-purple);
  box-shadow: 0 0 0 2px rgba(107, 70, 193, 0.1); /* Minimal glow */
}

[data-theme="dark"] .post-input:focus,
[data-theme="dark"] .post-edit-textarea:focus,
[data-theme="dark"] .friends-search-input:focus,
[data-theme="dark"] .reply-composer input:focus {
  box-shadow: 0 0 0 2px rgba(107, 70, 193, 0.2);
}

/* ────────────────────────────────────────
   COMPOSER: Floats in feed - NO border, NO background
   Only the textarea and buttons are visible
   ──────────────────────────────────────── */

.create-post {
  background: transparent !important; /* No background */
  border: none !important; /* No border */
  box-shadow: none !important; /* No shadow */
  padding: 0 !important; /* No padding on container */
  margin-bottom: 1.5rem;
}

[data-theme="dark"] .create-post {
  background: transparent !important;
  border: none !important;
}

/* ────────────────────────────────────────
   REACTIONS: Quiet Icons
   ──────────────────────────────────────── */

.reaction-button {
  background: transparent;
  border: 1px solid transparent;
  box-shadow: none;
  transition: background 0.15s ease, border-color 0.15s ease;
}

.reaction-button:hover {
  background: var(--bg-secondary);
  border-color: var(--border-light);
  box-shadow: none;
  transform: none;
}

.reaction-button.reacted {
  background: var(--bg-secondary);
  border-color: var(--border-medium);
}

/* ────────────────────────────────────────
   POLLS: Flat Bars
   ──────────────────────────────────────── */

.poll-option-bar {
  background: var(--bg-secondary);
  border: 1px solid var(--border-light);
  box-shadow: none;
}

.poll-option-bar-fill {
  background: var(--pryde-purple);
  box-shadow: none;
}

[data-theme="dark"] .poll-option-bar {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .poll-option-bar-fill {
  background: rgba(107, 70, 193, 0.6);
}

/* ────────────────────────────────────────
   SIDEBAR: Transparent - NO borders, NO backgrounds
   Merges into page background
   ──────────────────────────────────────── */

.feed-sidebar {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

.sidebar-card {
  background: transparent !important; /* No background */
  border: none !important; /* No border */
  border-radius: 0 !important; /* No rounded corners */
  box-shadow: none !important; /* No shadow */
  margin-bottom: 1.5rem;
  padding: 0 !important; /* No padding on container */
}

[data-theme="dark"] .sidebar-card {
  background: transparent !important;
  border: none !important;
}

.friend-sidebar-item:hover {
  background: var(--bg-secondary);
  box-shadow: none;
}

/* ────────────────────────────────────────
   STATUS INDICATORS: Subtle
   ──────────────────────────────────────── */

.status-dot.online {
  background: #10b981;
  box-shadow: none; /* No glow */
}

.status-dot.offline {
  background: var(--text-muted);
  box-shadow: none;
}

/* ────────────────────────────────────────
   FLOATING ACTION BUTTON: Calm
   ──────────────────────────────────────── */

.fab-compose {
  background: var(--pryde-purple);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15); /* Subtle shadow only */
  border: none;
}

.fab-compose:hover {
  background: var(--pryde-purple-dark, #5a3a9f);
  transform: none; /* No transform */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .fab-compose {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
}

/* ────────────────────────────────────────
   MODALS & DROPDOWNS: Clean
   ──────────────────────────────────────── */

.emoji-picker-container,
.actions-dropdown-menu,
.reaction-picker {
  background: var(--bg-primary);
  border: 1px solid var(--border-light);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Subtle shadow */
}

[data-theme="dark"] .emoji-picker-container,
[data-theme="dark"] .actions-dropdown-menu,
[data-theme="dark"] .reaction-picker {
  background: var(--bg-secondary);
  border-color: var(--border-dark);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

/* ────────────────────────────────────────
   MOBILE: No boxes, full width
   ──────────────────────────────────────── */

@media (max-width: 768px) {
  .post-card {
    padding: 1.5rem 0 !important; /* Vertical padding only */
    margin-bottom: 0 !important; /* Spacing handled by gap */
    border-radius: 12px !important; /* Rounded corners on mobile */
    background: transparent !important;
    border: none !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05) !important;
    box-shadow: none !important;
  }

  .create-post {
    padding: 0 !important; /* No padding - transparent container */
    margin-bottom: 1.5rem !important;
    background: transparent !important; /* No background */
    border: none !important; /* No border */
    box-shadow: none !important; /* No shadow */
  }

  .sidebar-card {
    margin-bottom: 1.25rem;
  }
}

/* ────────────────────────────────────────
   VERTICAL RHYTHM: Consistent Spacing
   ──────────────────────────────────────── */

/* Between posts */
.post-card + .post-card {
  margin-top: 0; /* Rely on margin-bottom for consistency */
}

/* Inside posts: Consistent 16-24px spacing */
.post-header {
  margin-bottom: 0.75rem; /* 12px */
}

.post-content {
  margin-bottom: 0.75rem; /* 12px */
}

.post-actions {
  margin-top: 0.75rem; /* 12px */
  padding-top: 0.75rem;
  border-top: 1px solid var(--border-light);
}

[data-theme="dark"] .post-actions {
  border-top-color: var(--border-dark);
}

/* ════════════════════════════════════════
   PHASE B: COMPOSER (COLLAPSIBLE)
   Floats in feed - NO border, NO background panel
   ════════════════════════════════════════ */

/* Composer container: Transparent, only textarea/buttons visible */
.create-post {
  background: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  padding: 0 !important;
  margin-bottom: 1.5rem;
  box-shadow: none !important;
  transition: all 0.2s ease;
}

[data-theme="dark"] .create-post {
  background: transparent !important;
  border: none !important;
}

/* Default state: One-line prompt */
.create-post.collapsed {
  padding: 0.75rem 1rem;
}

.create-post.collapsed .post-form-textarea {
  min-height: 44px;
  max-height: 44px;
  resize: none;
  overflow: hidden;
}

.create-post.collapsed .post-form-actions,
.create-post.collapsed .post-form-advanced {
  display: none;
}

/* Expanded state: Full composer */
.create-post.expanded .post-form-textarea {
  min-height: 120px;
  max-height: 300px;
  resize: vertical;
}

/* Composer textarea: Calm, readable */
.post-form-textarea,
textarea[name="newPost"] {
  background: var(--bg-secondary);
  border: 1px solid var(--border-light);
  border-radius: 8px;
  padding: 0.75rem;
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  color: var(--text-primary);
  transition: border-color 0.15s ease;
  box-shadow: none;
}

.post-form-textarea:focus,
textarea[name="newPost"]:focus {
  outline: none;
  border-color: var(--pryde-purple);
  box-shadow: none;
}

[data-theme="dark"] .post-form-textarea,
[data-theme="dark"] textarea[name="newPost"] {
  background: var(--bg-tertiary);
  border-color: var(--border-dark);
}

/* Composer actions row: Photo, CW, Privacy visible */
.post-form-actions {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 0.75rem;
  flex-wrap: wrap;
}

/* Advanced options: Poll, Drafts, Hide metrics in "More" menu */
.post-form-advanced {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 0.5rem;
  padding-top: 0.75rem;
  border-top: 1px solid var(--border-light);
}

[data-theme="dark"] .post-form-advanced {
  border-top-color: var(--border-dark);
}

/* Composer buttons: Flat, calm */
.btn-composer-action {
  padding: 0.5rem 0.75rem;
  border-radius: 8px;
  border: 1px solid var(--border-light);
  background: var(--bg-secondary);
  color: var(--text-secondary);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all 0.15s ease;
  display: flex;
  align-items: center;
  gap: 0.375rem;
}

.btn-composer-action:hover {
  background: var(--bg-tertiary);
  border-color: var(--border-medium);
  transform: none;
  box-shadow: none;
}

.btn-composer-action.active {
  background: rgba(139, 92, 246, 0.15);
  border-color: var(--pryde-purple);
  color: var(--pryde-purple);
}

[data-theme="dark"] .btn-composer-action {
  border-color: var(--border-dark);
  background: var(--bg-tertiary);
}

/* Post button: Prominent but calm */
.btn-post {
  padding: 0.625rem 1.25rem;
  border-radius: 8px;
  background: var(--pryde-purple);
  color: white;
  border: none;
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  transition: background 0.15s ease;
  box-shadow: none;
  margin-left: auto;
}

.btn-post:hover:not(:disabled) {
  background: var(--pryde-purple-dark, #5a3a9f);
  transform: none;
  box-shadow: none;
}

.btn-post:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Draft save status: Muted, small */
.draft-save-status {
  font-size: var(--font-size-xs);
  color: var(--text-muted);
  margin-left: auto;
  margin-right: 0.5rem;
}

/* ════════════════════════════════════════
   PHASE C: POST CARD CONTRACT
   Single structural template
   ════════════════════════════════════════ */

/* ────────────────────────────────────────
   Post Header: Avatar + Name + @handle + time + menu
   ──────────────────────────────────────── */

.post-header {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  margin-bottom: 0;
}

/* Avatar: 40px circle */
.post-author-avatar,
.author-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  flex-shrink: 0;
  overflow: hidden;
  background: var(--bg-secondary);
  border: 2px solid var(--border-light);
  box-shadow: none;
  transition: opacity 0.15s ease;
}

.post-author-avatar:hover,
.author-avatar:hover {
  transform: none;
  box-shadow: none;
  opacity: 0.9;
}

[data-theme="dark"] .post-author-avatar,
[data-theme="dark"] .author-avatar {
  border-color: var(--border-dark);
}

.post-author-avatar img,
.author-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Author info: Name + @handle + time */
.post-author-info {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
}

/* Name: Semi-bold, primary color */
.post-author-name,
.author-name {
  font-weight: var(--font-weight-semibold);
  font-size: var(--font-size-base);
  color: var(--text-primary);
  display: flex;
  align-items: center;
  gap: 0.375rem;
}

/* @handle: Muted, smaller */
.post-author-username,
.author-username {
  font-size: var(--font-size-sm);
  color: var(--text-muted);
}

/* Time: Muted, small */
.post-time,
.post-timestamp {
  font-size: var(--font-size-xs);
  color: var(--text-muted);
}

/* Metadata line: Privacy, CW, Saved (muted, small) */
.post-meta {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: var(--font-size-xs);
  color: var(--text-muted);
  margin-top: 0.25rem;
}

.post-meta-item {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

/* Dropdown menu button: Right-aligned */
.btn-dropdown {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: none;
  background: transparent;
  color: var(--text-secondary);
  font-size: var(--font-size-xl);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.15s ease;
  flex-shrink: 0;
  margin-left: auto;
}

.btn-dropdown:hover {
  background: var(--bg-secondary);
}

/* ────────────────────────────────────────
   Post Body: Content + Media + Poll
   ──────────────────────────────────────── */

.post-content {
  font-size: var(--font-size-base);
  line-height: var(--line-height-relaxed);
  color: var(--text-primary);
  word-wrap: break-word;
  word-break: break-word;
  overflow-wrap: break-word;
  white-space: pre-wrap;
  margin-bottom: 0;
}

/* Media block: Clean, no extra borders */
.post-media {
  margin-top: 0.75rem;
  border-radius: 8px;
  overflow: hidden;
}

.post-media img,
.post-media video {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 8px;
}

/* ────────────────────────────────────────
   Actions Row: Only Like + Comment visible
   Everything else in ⋮ menu
   ──────────────────────────────────────── */

.post-actions {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-top: 0.75rem;
  padding-top: 0.75rem;
  border-top: 1px solid var(--border-light);
}

[data-theme="dark"] .post-actions {
  border-top-color: var(--border-dark);
}

/* Action buttons: Like + Comment */
.btn-action {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.5rem 0.75rem;
  border-radius: 8px;
  border: none;
  background: transparent;
  color: var(--text-secondary);
  font-size: var(--font-size-sm);
  cursor: pointer;
  transition: all 0.15s ease;
}

.btn-action:hover {
  background: var(--bg-secondary);
  color: var(--text-primary);
}

.btn-action.active {
  color: var(--pryde-purple);
  background: rgba(139, 92, 246, 0.1);
}

/* Hide secondary actions (Save, Share, etc.) - move to dropdown */
.btn-save,
.btn-share,
.btn-copy-link {
  display: none;
}

/* Dropdown menu: Save, Share, Report, Copy link, Edit/Delete */
.post-dropdown-container .dropdown-menu,
.dropdown-menu {
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: 0.5rem;
  min-width: 200px;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  z-index: 1000;
  overflow: hidden;
  padding: 0.25rem 0;
}

[data-theme="dark"] .post-dropdown-container .dropdown-menu,
[data-theme="dark"] .dropdown-menu {
  background: #15162A;
  border-color: #374151;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
}

.dropdown-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1rem;
  border: none;
  background: transparent;
  color: var(--text-primary);
  font-size: var(--font-size-base);
  cursor: pointer;
  width: 100%;
  text-align: left;
  transition: background 0.15s ease;
}

.dropdown-item:hover {
  background: var(--bg-secondary);
}

.dropdown-item.delete,
.dropdown-item.report {
  color: #ef4444;
}

.dropdown-item.delete:hover,
.dropdown-item.report:hover {
  background: rgba(239, 68, 68, 0.1);
}

/* ════════════════════════════════════════
   PHASE D: POLL & CW STYLING (QUIET)
   ════════════════════════════════════════ */

/* ────────────────────────────────────────
   Poll: Flat, no gradients, no glow
   ──────────────────────────────────────── */

.poll-container {
  margin-top: 0.75rem;
  padding: 1rem;
  background: var(--bg-secondary);
  border: 1px solid var(--border-light);
  border-radius: 8px;
  box-shadow: none;
}

[data-theme="dark"] .poll-container {
  background: var(--bg-tertiary);
  border-color: var(--border-dark);
}

/* Poll question: Readable, not too bold */
.poll-question {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--text-primary);
  margin-bottom: 0.75rem;
}

/* Poll options: Flat rows */
.poll-option {
  padding: 0.75rem;
  margin-bottom: 0.5rem;
  border-radius: 6px;
  border: 1px solid var(--border-light);
  background: var(--bg-card);
  cursor: pointer;
  transition: all 0.15s ease;
  position: relative;
  overflow: hidden;
}

.poll-option:hover {
  border-color: var(--border-medium);
  background: var(--bg-secondary);
  transform: none;
  box-shadow: none;
}

[data-theme="dark"] .poll-option {
  border-color: var(--border-dark);
  background: var(--bg-card);
}

/* Poll option text */
.poll-option-text {
  font-size: var(--font-size-sm);
  color: var(--text-primary);
  position: relative;
  z-index: 1;
}

/* Poll progress fill: Subtle, muted */
.poll-option-progress {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background: rgba(139, 92, 246, 0.15);
  border-radius: 6px;
  transition: width 0.3s ease;
  z-index: 0;
}

[data-theme="dark"] .poll-option-progress {
  background: rgba(139, 92, 246, 0.2);
}

/* Poll percentage: Muted, small */
.poll-option-percentage {
  font-size: var(--font-size-xs);
  color: var(--text-muted);
  margin-left: 0.5rem;
}

/* Poll metadata: Muted labels */
.poll-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 0.75rem;
  padding-top: 0.75rem;
  border-top: 1px solid var(--border-light);
  font-size: var(--font-size-xs);
  color: var(--text-muted);
}

[data-theme="dark"] .poll-meta {
  border-top-color: var(--border-dark);
}

/* ────────────────────────────────────────
   Content Warning: Collapsed card, gentle reveal
   ──────────────────────────────────────── */

.content-warning-overlay {
  padding: 1.5rem;
  background: rgba(139, 92, 246, 0.15);
  border: 2px solid rgba(139, 92, 246, 0.3);
  border-radius: 8px;
  text-align: center;
  box-shadow: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

[data-theme="dark"] .content-warning-overlay {
  background: rgba(139, 92, 246, 0.2);
  border-color: rgba(139, 92, 246, 0.4);
}

/* CW title: Clear but not loud */
.content-warning-title {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  text-shadow: none;
}

/* CW text: Muted */
.content-warning-text {
  font-size: var(--font-size-sm);
  color: var(--text-secondary);
  margin-bottom: 1rem;
}

/* CW reveal button: Calm, flat */
.btn-show-cw {
  padding: 0.625rem 1.25rem;
  border-radius: 8px;
  background: var(--pryde-purple);
  color: white;
  border: none;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  cursor: pointer;
  transition: background 0.15s ease;
  box-shadow: none;
}

.btn-show-cw:hover {
  background: var(--pryde-purple-dark, #5a3a9f);
  transform: none;
  box-shadow: none;
}

/* CW revealed state: Gentle animation */
.content-revealed {
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ════════════════════════════════════════
   PHASE E: MOBILE-FIRST CALM
   ════════════════════════════════════════ */

@media (max-width: 768px) {
  /* ────────────────────────────────────────
     Mobile Feed: Full width, no boxes, no squeeze
     ──────────────────────────────────────── */

  .feed-layout {
    max-width: 100% !important;
    padding: 0 !important;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
  }

  .feed-main {
    padding: 0 1rem !important; /* 16px side padding only */
    gap: 1.5rem;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
  }

  /* Hide sidebar on mobile */
  .feed-sidebar {
    display: none;
  }

  /* Posts list: Breathing room on mobile */
  .posts-list {
    gap: 1.5rem !important; /* 24px between posts on mobile */
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
  }

  /* ────────────────────────────────────────
     Mobile Post Cards: Framed, edge-to-edge minus padding
     ──────────────────────────────────────── */

  .post-card {
    padding: 1rem 1.25rem !important; /* 16px vertical, 20px horizontal */
    border-radius: 12px !important; /* Rounded corners on mobile */
    background: var(--color-surface) !important; /* Solid background */
    border: var(--border-post) !important; /* THE ONE TRUE BORDER */
    box-shadow: none !important; /* No shadow */
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  /* Avatar: Slightly larger on mobile */
  .post-author-avatar,
  .author-avatar {
    width: 44px;
    height: 44px;
  }

  /* Name: Slightly larger on mobile */
  .post-author-name,
  .author-name {
    font-size: var(--font-size-base);
  }

  /* Content: Comfortable reading size */
  .post-content {
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
  }

  /* ────────────────────────────────────────
     Mobile Actions: Large touch targets
     ──────────────────────────────────────── */

  .post-actions {
    gap: 0.75rem;
  }

  .btn-action {
    min-height: 44px;
    min-width: 44px;
    padding: 0.625rem 1rem;
    font-size: var(--font-size-base);
  }

  .btn-dropdown {
    min-width: 44px;
    min-height: 44px;
  }

  /* ────────────────────────────────────────
     Mobile Composer: Compact, easy to expand
     ──────────────────────────────────────── */

  .create-post {
    padding: 0.75rem;
    margin-bottom: 1rem;
  }

  .create-post.collapsed {
    padding: 0.625rem 0.75rem;
  }

  .post-form-textarea,
  textarea[name="newPost"] {
    font-size: var(--font-size-base);
    padding: 0.625rem;
  }

  .btn-post {
    min-height: 44px;
    padding: 0.625rem 1rem;
  }

  .btn-composer-action {
    min-height: 44px;
    padding: 0.625rem 0.875rem;
  }

  /* ────────────────────────────────────────
     Mobile Chrome: Reduce secondary text
     ──────────────────────────────────────── */

  /* Timestamps: Smaller and lighter */
  .post-time,
  .post-timestamp {
    font-size: var(--font-size-xs);
  }

  /* Metadata: Hide on mobile to reduce noise */
  .post-meta {
    display: none;
  }

  /* @handle: Hide on mobile to save space */
  .post-author-username,
  .author-username {
    display: none;
  }

  /* ────────────────────────────────────────
     Mobile Poll: Larger touch targets
     ──────────────────────────────────────── */

  .poll-option {
    padding: 1rem;
    margin-bottom: 0.625rem;
    min-height: 48px;
  }

  .poll-option-text {
    font-size: var(--font-size-base);
  }

  /* ────────────────────────────────────────
     Mobile CW: Larger button
     ──────────────────────────────────────── */

  .btn-show-cw {
    min-height: 48px;
    padding: 0.75rem 1.5rem;
    font-size: var(--font-size-base);
  }

  /* ────────────────────────────────────────
     Mobile Dropdown: Full width on small screens
     ──────────────────────────────────────── */

  .dropdown-menu {
    min-width: 240px;
    right: 0;
    left: auto;
  }

  .dropdown-item {
    min-height: 48px;
    padding: 0.875rem 1rem;
    font-size: var(--font-size-base);
  }
}

/* ════════════════════════════════════════
   OVERRIDES: Remove all decorative styles
   ════════════════════════════════════════ */

/* Remove gradients */
.btn-post,
.btn-show-cw,
.btn-composer-action,
.btn-action {
  background-image: none;
}

/* Remove glows */
.post-card,
.create-post,
.poll-container,
.content-warning-overlay,
.btn-post,
.btn-action {
  box-shadow: none !important;
}

/* Remove transforms on hover (except gentle opacity) */
.post-card:hover,
.btn-post:hover,
.btn-action:hover,
.poll-option:hover {
  transform: none !important;
}

/* Calm focus states */
.post-form-textarea:focus,
textarea[name="newPost"]:focus,
.btn-post:focus,
.btn-action:focus,
.btn-dropdown:focus {
  outline: 2px solid var(--pryde-purple);
  outline-offset: 2px;
}

/* ────────────────────────────────────────
   REMOVE ALL REMAINING GRADIENTS
   ──────────────────────────────────────── */

/* Override any gradient backgrounds */
*[style*="gradient"],
*[class*="gradient"] {
  background-image: none !important;
}

/* Remove gradient overlays */
.post-author-avatar::before,
.verified-badge::before,
.content-warning-overlay::before {
  display: none !important;
}

/* ────────────────────────────────────────
   QUIET MODE: Extra Calm
   ──────────────────────────────────────── */

[data-quiet="true"] .post-card,
[data-quiet-mode="true"] .post-card {
  background: var(--bg-primary);
  border-color: var(--border-subtle);
}

[data-quiet="true"] .feed-tab.active,
[data-quiet-mode="true"] .feed-tab.active {
  background: var(--bg-secondary);
  color: var(--text-primary);
}

/* ════════════════════════════════════════
   EDGE-TO-EDGE (≤600px)
   Post cards flush to screen edges
   ════════════════════════════════════════ */
@media (max-width: 600px) {
  .post-card {
    border-radius: 12px !important;
  }
}
