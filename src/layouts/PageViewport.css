/**
 * PageViewport.css - Root scroll container styles
 * 
 * SINGLE RESPONSIBILITY:
 * - Vertical scrolling
 * - Safe area handling
 * - Background color
 * 
 * NO layout rules, NO column logic
 */

.page-viewport {
  /* SCROLL FIX: No height constraint, browser scrolls */
  display: flex;
  flex-direction: column;
  height: auto;
  /* min-height: 0 removed - was causing avatar border-radius and GIF overlap issues */
  width: 100%;

  /* SCROLL FIX: No internal scroll, browser scrolls */
  overflow: visible;

  /* Background ownership */
  background: var(--bg, #f7f7f7);

  /* Safe area insets for notched devices (iPhone X+, etc.) */
  padding-top: env(safe-area-inset-top, 0);
  padding-left: env(safe-area-inset-left, 0);
  padding-right: env(safe-area-inset-right, 0);

  /* Bottom padding: single source of truth for stacked mobile UI.
     Use layer-2 so content stays clear of the scroll-to-top button
     (which sits at layer-2) while still only applying padding once. */
  padding-bottom: var(--mobile-layer-2, 144px);

  /* Smooth transitions for theme changes */
  transition: background-color 0.25s ease-in-out;
}

/* Desktop: No mobile nav, minimal bottom padding */
/* FIXED: Changed from 1025px to 1281px for tablet/desktop consistency */
@media (min-width: 1281px) {
  .page-viewport {
    padding-bottom: env(safe-area-inset-bottom, 0);
  }
}

/* Prevent overscroll bounce on iOS (optional - can be removed if unwanted) */
@supports (-webkit-touch-callout: none) {
  .page-viewport {
    /* iOS-specific adjustments if needed */
  }
}

/* ===============================
   MOBILE FEED LAYOUT OVERRIDE
   =============================== */

@media (max-width: 600px) {
  .page-container,
  .page-layout,
  .page-viewport {
    max-width: 100%;
    width: 100%;
    padding-left: 0;
    padding-right: 0;
    margin-left: 0;
    margin-right: 0;
  }

  /* Feed-specific safety */
  .feed-page {
    padding-left: 0;
    padding-right: 0;
  }
}
